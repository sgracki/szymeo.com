export type MazeCell = Array<number>;
export type MazeRow = Array<MazeCell>;
export type MazeSchema = Array<MazeRow>;

export enum MazeExit {
    TOP,
    RIGHT,
    BOT,
    LEFT
}

export interface MazePuzzel {
    exits: Set<MazeExit>;
    schema: MazeSchema
}

export interface Point {
    x: number;
    y: number;
}

export interface Size {
    width: number;
    height: number;
}

export const mazeSchema1: MazeSchema = [
    [[1,0,0,1],[1,0,1,0],[1,0,1,0],[1,0,1,0],[1,1,0,0]],
    [[0,1,1,1],[1,0,0,1],[1,0,1,0],[1,1,0,0],[0,1,0,1]],
    [[1,0,0,1],[0,1,0,0],[1,0,1,1],[0,1,0,0],[0,1,0,1]],
    [[0,1,0,1],[0,0,1,1],[1,1,0,0],[0,1,0,1],[0,1,0,1]],
    [[0,0,1,1],[1,1,1,0],[0,1,0,1],[0,0,1,1],[0,0,1,0]]
];

export const mazeSchema2: MazeSchema = [
    [[1,0,0,1],[1,0,1,0],[1,1,1,0],[1,0,0,1],[1,1,1,0]],
    [[0,0,0,1],[1,0,1,0],[1,1,0,0],[0,0,0,1],[1,0,0,0]],
    [[0,1,0,1],[1,1,0,1],[0,0,1,1],[0,1,0,0],[0,1,0,1]],
    [[0,0,0,1],[0,1,1,0],[1,0,0,1],[0,1,1,0],[0,1,0,1]],
    [[0,0,1,0],[1,1,1,0],[0,1,1,1],[1,0,0,1],[0,1,1,0]]
];

export const mazeSchema3: MazeSchema = [
    [[1,0,0,1],[1,0,1,0],[1,0,1,0],[1,0,1,0],[1,1,0,0]],
    [[0,1,1,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[0,1,0,1]],
    [[1,0,0,1],[0,1,0,0],[1,0,1,1],[0,1,0,0],[0,1,0,1]],
    [[0,1,0,1],[0,0,1,1],[1,1,0,0],[0,1,0,1],[0,1,0,1]],
    [[0,0,0,1],[1,1,1,0],[0,1,0,1],[0,0,1,1],[0,1,1,0]]
];

export const mazeSchema4: MazeSchema = [
    [[1,0,0,1],[1,0,1,0],[0,1,1,0],[1,0,0,1],[1,1,1,0]],
    [[0,0,0,1],[1,0,1,0],[1,1,0,0],[0,0,0,1],[1,1,0,0]],
    [[0,1,0,1],[1,1,0,1],[0,0,1,1],[0,1,0,0],[0,1,0,1]],
    [[0,0,0,1],[0,1,1,0],[1,0,0,1],[0,1,1,0],[0,0,0,1]],
    [[0,0,1,1],[1,1,1,0],[0,1,1,1],[1,0,0,1],[0,1,1,0]]
];

export const mazeSchema5: MazeSchema = [
    [[1,0,0,1],[1,0,1,0],[1,0,1,0],[0,0,1,0],[1,1,0,0]],
    [[0,1,1,1],[1,0,0,1],[1,0,1,0],[1,1,0,0],[0,1,0,1]],
    [[1,0,0,1],[0,1,0,0],[1,0,1,1],[0,1,0,0],[0,1,0,1]],
    [[0,1,0,0],[0,0,1,1],[1,1,0,0],[0,1,0,1],[0,1,0,1]],
    [[0,0,1,1],[1,1,1,0],[0,1,0,1],[0,0,1,1],[0,1,1,0]]
];

export const mazeSchema6: MazeSchema = [
    [[0,1,1,1],[1,0,1,0],[0,0,1,0],[1,0,0,0],[1,1,1,0]],
    [[1,0,0,1],[1,0,1,0],[1,1,0,0],[0,0,0,1],[1,1,0,0]],
    [[0,1,0,1],[1,1,0,1],[0,0,1,1],[0,1,0,0],[0,1,0,1]],
    [[0,0,0,1],[0,1,1,0],[1,0,0,1],[0,1,1,0],[0,1,0,0]],
    [[0,0,0,1],[1,1,1,0],[0,1,0,1],[1,0,1,1],[0,1,1,0]]
];

export const mazeSchema7: MazeSchema = [
    [[1,0,0,1],[1,0,1,0],[1,0,1,0],[0,0,1,0],[1,1,0,0]],
    [[0,1,1,1],[1,0,0,1],[1,0,1,0],[1,1,0,0],[0,1,0,1]],
    [[1,0,0,1],[0,1,0,0],[1,0,1,1],[0,1,0,0],[0,1,0,1]],
    [[0,1,0,1],[0,0,1,1],[1,1,0,0],[0,1,0,1],[0,1,0,1]],
    [[0,0,1,1],[1,1,1,0],[0,1,1,1],[0,0,1,1],[0,1,1,0]]
];

export const mazeSchema8: MazeSchema = [
    [[1,0,0,1],[1,0,1,0],[0,1,1,0],[1,0,0,1],[1,1,1,0]],
    [[0,0,0,1],[1,0,1,0],[1,1,0,0],[0,0,0,1],[1,1,0,0]],
    [[0,1,0,1],[1,1,0,1],[0,0,1,1],[0,1,0,0],[0,1,0,1]],
    [[0,0,0,1],[0,1,1,0],[1,0,0,1],[0,1,1,0],[0,1,0,0]],
    [[0,0,1,1],[1,1,1,0],[0,1,1,1],[1,0,1,1],[0,0,1,0]]
];

export const mazeSchema9: MazeSchema = [
    [[0,0,0,1],[1,0,1,0],[1,0,1,0],[1,0,1,0],[1,1,0,0]],
    [[0,1,1,1],[1,0,0,1],[1,0,1,0],[1,1,0,0],[0,1,0,1]],
    [[1,0,0,1],[0,1,0,0],[1,0,1,1],[0,1,0,0],[0,1,0,1]],
    [[0,1,0,1],[0,0,1,1],[1,1,0,0],[0,1,0,1],[0,1,0,1]],
    [[0,0,1,0],[1,1,1,0],[0,1,1,1],[0,0,1,1],[0,1,1,0]]
];

export const mainMazeSchema: MazeSchema = [
    ...schemasToRow(
        mazeSchema1,
        mazeSchema2,
        mazeSchema3,
    ),
    ...schemasToRow(
        mazeSchema4,
        mazeSchema5,
        mazeSchema6,
    ),
    ...schemasToRow(
        mazeSchema7,
        mazeSchema8,
        mazeSchema9,
    ),
];

function schemasToRow(...schemas: MazeSchema[]): MazeSchema {
    return schemas.reduce((memo: MazeSchema, item: MazeSchema) => {
        return [
            [...memo[0], ...item[0]],
            [...memo[1], ...item[1]],
            [...memo[2], ...item[2]],
            [...memo[3], ...item[3]],
            [...memo[4], ...item[4]],
        ]
    }, [[],[],[],[],[]]);
}